<!DOCTYPE html>
<html lang="en">
<head>
  <title>Lab 1 GEOG 578</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="" />

  <!-- access to libraries -->
  <link rel="stylesheet" href="https://js.arcgis.com/4.25/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.25/"></script>

  <!-- Full Screen Map modules-->
  <script>  
    require([
      "esri/config",
      "esri/Map",
      "esri/views/MapView",
      "esri/widgets/BasemapGallery",
      "esri/widgets/Expand",
      "esri/portal/Portal",
      "esri/widgets/BasemapGallery/support/PortalBasemapsSource"
    ], function(
      esriConfig, 
      Map, 
      MapView, 
      BasemapGallery, 
      Expand,
      Portal,
      PortalBasemapsSource
    ) {   
    
      esriConfig.apiKey = "YAAPTxy8BH1VEsoebNVZXo8HurEwEJiPsJAv6XK5APCcuFpZEmTCdTdSU9XMQXYBgfL9c5UnZrY4R2UdHgVrW8LfqDFKnjefPQr9XO0pMlE2S9osFC4vlxQEcDC2L-rbRhvnh3cGFmfknrnTY3XSIHKqUu1aHDnbMm61c0aME06Eg9u_NwfzhPyWlPsZlxkyOWLAtootixnskdcZY0pddnIjDLJ19HPMO7YoJRFfo-wFMnrXD59hI_LVwr_BLfWo0dbk7AT1_nGwi5c7JOUR_API_KEY";
      
      const map = new Map({ 
        basemap: "topo" // Basemap layer service 
      }); 
    
      const view = new MapView({
        map: map,
        center: [16.4433, 43.17242], // Longitude, latitude
        zoom: 15, // Zoom level
        container: "viewDiv" // Div element
      });

      // Create Portal and PortalBasemapsSource so the gallery has items
      const portal = new Portal({
        url: "https://www.arcgis.com"
      });
      const portalSource = new PortalBasemapsSource({
        portal: portal
      });

      // BaseMap Gallery widget
      let basemapGallery = new BasemapGallery({
        view: view,
        source: portalSource
      });

      // Expand wrapper
      const bgExpand = new Expand({
        view: view,
        content: basemapGallery,
        expandIconClass: "esri-icon-basemap",
        expandTooltip: "Show basemap options",
        collapsed: true
      });
      view.ui.add(bgExpand, "top-right");

    });  
  </script>

  <!-- css to make a full screen map -->
  <style>  
    html,
    body,  
    #viewDiv {  
      padding: 0;  
      margin: 0;  
      height: 100%;  
      width: 100%;  
    }  
  </style> 

</head>
<body>
  <div id="viewDiv"></div> 
</body>
</html>
